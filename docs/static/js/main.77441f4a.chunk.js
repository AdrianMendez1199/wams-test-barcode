(this.webpackJsonpsrc=this.webpackJsonpsrc||[]).push([[0],{16:function(e,t,n){e.exports=n(32)},32:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(14),c=n.n(i),o=n(0),d=n.n(o),s=n(5),l=n(15),u=function(){var e=document.documentElement.clientWidth,t=document.documentElement.clientHeight,n=Object(a.userRef)(null);n.width=e,n.height=t;var r=document.getElementById("canvas");r.width=n.videoWidth,r.height=n.videoHeight,e/n.videoWidth<t/n.videoHeight?(r.style.width="100vw",r.style.height="auto"):(r.style.width="auto",r.style.height="100vh")},m=function(){var e=Object(s.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.onresize=u,e.next=3,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"environment",width:{max:640},height:{max:640}}});case 3:return t=e.sent,(n=document.getElementById("video")).srcObject=t,n.setAttribute("playsinline",""),n.play(),e.next=10,new Promise((function(e){n.onloadedmetadata=e}));case 10:u();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(e){var t=document.getElementById("canvas"),n=document.getElementById("footer"),a=t.getContext("2d"),r=t.width,i=t.height;for(a.clearRect(0,0,r,i);n.firstChild;)n.removeChild(n.lastChild);a.font="20px serif",a.strokeStyle="#00ff00",a.fillStyle="#ff0000",a.lineWidth=6;for(var c=0;c<e.length;++c){var o=e[c],d=o.points;a.beginPath();for(var s=0;s<d.length;++s){var l=d[s],u=l.x,m=l.y;0===s?a.moveTo(u,m):a.lineTo(u,m)}a.closePath(),a.stroke(),a.fillText("#"+c,d[0].x,d[0].y-10);var h=document.createElement("div");h.className="footerItem",h.innerText="#".concat(c,": Type: ").concat(o.typeName,'; Value: "').concat(o.decode(),'"'),n.appendChild(h)}},v=function(){var e=Object(s.a)(d.a.mark((function e(){var t,n,a,r,i,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.createElement("canvas"),n=document.getElementById("video"),a=n.videoWidth,r=n.videoHeight,t.width=a,t.height=r,(i=t.getContext("2d")).drawImage(n,0,0,a,r),c=i.getImageData(0,0,a,r),e.next=11,Object(l.scanImageData)(c);case 11:o=e.sent,h(o);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(e){return new Promise((function(t){setTimeout(t,e)}))};(function(){var e=Object(s.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:return e.next=6,v();case 6:return e.next=8,f(800);case 8:e.next=3;break;case 10:e.next=20;break;case 12:e.prev=12,e.t0=e.catch(0),(t=document.createElement("div")).className="full middle",t.style="height: 72px; width: 100%; text-align: center; font-size: 36px",t.innerText="Cannot get cammera: "+e.t0,document.body.appendChild(t),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}})()();var p=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("video",{id:"video",className:"full"}," "),r.a.createElement("canvas",{id:"canvas",className:"full middle"}))};c.a.render(r.a.createElement(p,null),document.getElementById("app"))}},[[16,1,2]]]);
//# sourceMappingURL=main.77441f4a.chunk.js.map